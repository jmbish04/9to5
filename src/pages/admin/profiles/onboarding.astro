---
import AdminLayout from '../../../layouts/AdminLayout.astro';
import Card from '../../../components/ui/card.astro';
import CardHeader from '../../../components/ui/card-header.astro';
import CardTitle from '../../../components/ui/card-title.astro';
import CardContent from '../../../components/ui/card-content.astro';
import Button from '../../../components/ui/button.astro';

// User onboarding and profile management interface
---

<AdminLayout>
  <div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-900">User Profiles & Onboarding</h1>
    <p class="mt-1 text-sm text-gray-600">Manage user profiles and onboarding experience for personalized AI assistance</p>
  </div>

  <!-- Onboarding Progress -->
  <Card class="mb-6">
    <CardHeader>
      <CardTitle>Onboarding Analytics</CardTitle>
    </CardHeader>
    <CardContent>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
        <div class="text-center">
          <div class="text-2xl font-bold text-blue-600">156</div>
          <div class="text-sm text-gray-600">Users Started</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-green-600">98</div>
          <div class="text-sm text-gray-600">Completed</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-yellow-600">31</div>
          <div class="text-sm text-gray-600">In Progress</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold text-purple-600">63%</div>
          <div class="text-sm text-gray-600">Completion Rate</div>
        </div>
      </div>
      
      <!-- Onboarding Steps Progress -->
      <div class="space-y-3">
        <div class="flex items-center justify-between">
          <span class="text-sm font-medium">Step 1: Basic Info</span>
          <div class="w-32 bg-gray-200 rounded-full h-2">
            <div class="bg-green-500 h-2 rounded-full" style="width: 85%"></div>
          </div>
          <span class="text-sm text-gray-500">85%</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-sm font-medium">Step 2: Career Preferences</span>
          <div class="w-32 bg-gray-200 rounded-full h-2">
            <div class="bg-green-500 h-2 rounded-full" style="width: 72%"></div>
          </div>
          <span class="text-sm text-gray-500">72%</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-sm font-medium">Step 3: Skills Assessment</span>
          <div class="w-32 bg-gray-200 rounded-full h-2">
            <div class="bg-yellow-500 h-2 rounded-full" style="width: 68%"></div>
          </div>
          <span class="text-sm text-gray-500">68%</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-sm font-medium">Step 4: AI Preferences</span>
          <div class="w-32 bg-gray-200 rounded-full h-2">
            <div class="bg-yellow-500 h-2 rounded-full" style="width: 63%"></div>
          </div>
          <span class="text-sm text-gray-500">63%</span>
        </div>
      </div>
    </CardContent>
  </Card>

  <!-- Sample User Profiles -->
  <Card class="mb-6">
    <CardHeader>
      <CardTitle>User Profile Examples</CardTitle>
    </CardHeader>
    <CardContent>
      <div class="space-y-4">
        <!-- Demo Profile 1 -->
        <div class="border border-gray-200 rounded-lg p-4">
          <div class="flex items-start justify-between mb-3">
            <div>
              <h3 class="font-semibold">Sarah Chen</h3>
              <p class="text-sm text-gray-600">Senior Frontend Developer</p>
            </div>
            <span class="inline-flex items-center rounded px-2 py-0.5 text-xs font-medium bg-green-100 text-green-800">
              Complete
            </span>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
              <p><strong>Experience:</strong> 5 years</p>
              <p><strong>Location:</strong> San Francisco, Remote</p>
              <p><strong>Career Level:</strong> Senior</p>
            </div>
            <div>
              <p><strong>Primary Skills:</strong> React, TypeScript, Node.js</p>
              <p><strong>Target Salary:</strong> $130k - $160k</p>
              <p><strong>AI Coaching:</strong> Enabled</p>
            </div>
          </div>
        </div>

        <!-- Demo Profile 2 -->
        <div class="border border-gray-200 rounded-lg p-4">
          <div class="flex items-start justify-between mb-3">
            <div>
              <h3 class="font-semibold">Marcus Johnson</h3>
              <p class="text-sm text-gray-600">Full Stack Developer</p>
            </div>
            <span class="inline-flex items-center rounded px-2 py-0.5 text-xs font-medium bg-yellow-100 text-yellow-800">
              Skills Assessment
            </span>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
              <p><strong>Experience:</strong> 3 years</p>
              <p><strong>Location:</strong> Austin, Hybrid</p>
              <p><strong>Career Level:</strong> Mid-level</p>
            </div>
            <div>
              <p><strong>Primary Skills:</strong> JavaScript, Python</p>
              <p><strong>Target Salary:</strong> $85k - $110k</p>
              <p><strong>Progress:</strong> 75% complete</p>
            </div>
          </div>
        </div>

        <!-- Demo Profile 3 -->
        <div class="border border-gray-200 rounded-lg p-4">
          <div class="flex items-start justify-between mb-3">
            <div>
              <h3 class="font-semibold">Emily Rodriguez</h3>
              <p class="text-sm text-gray-600">DevOps Engineer</p>
            </div>
            <span class="inline-flex items-center rounded px-2 py-0.5 text-xs font-medium bg-green-100 text-green-800">
              Complete
            </span>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
            <div>
              <p><strong>Experience:</strong> 4 years</p>
              <p><strong>Location:</strong> Remote Only</p>
              <p><strong>Career Level:</strong> Senior</p>
            </div>
            <div>
              <p><strong>Primary Skills:</strong> AWS, Docker, Kubernetes</p>
              <p><strong>Target Salary:</strong> $115k - $145k</p>
              <p><strong>Market Alerts:</strong> Enabled</p>
            </div>
          </div>
        </div>
      </div>
    </CardContent>
  </Card>

  <!-- AI Preferences Overview -->
  <Card>
    <CardHeader>
      <CardTitle>AI Agent Preferences Distribution</CardTitle>
    </CardHeader>
    <CardContent>
      <div class="space-y-4">
        <div class="flex items-center justify-between p-3 bg-blue-50 rounded">
          <div class="flex items-center">
            <div class="w-3 h-3 bg-blue-500 rounded mr-3"></div>
            <div>
              <div class="font-medium">Job Discovery Agent</div>
              <div class="text-sm text-gray-600">Personalized job recommendations</div>
            </div>
          </div>
          <div class="text-right">
            <div class="text-lg font-semibold text-blue-600">94%</div>
            <div class="text-xs text-gray-500">Enabled</div>
          </div>
        </div>

        <div class="flex items-center justify-between p-3 bg-green-50 rounded">
          <div class="flex items-center">
            <div class="w-3 h-3 bg-green-500 rounded mr-3"></div>
            <div>
              <div class="font-medium">Career Coach Agent</div>
              <div class="text-sm text-gray-600">Career guidance and skill development</div>
            </div>
          </div>
          <div class="text-right">
            <div class="text-lg font-semibold text-green-600">87%</div>
            <div class="text-xs text-gray-500">Enabled</div>
          </div>
        </div>

        <div class="flex items-center justify-between p-3 bg-purple-50 rounded">
          <div class="flex items-center">
            <div class="w-3 h-3 bg-purple-500 rounded mr-3"></div>
            <div>
              <div class="font-medium">Content Generation Agent</div>
              <div class="text-sm text-gray-600">Cover letters and resume optimization</div>
            </div>
          </div>
          <div class="text-right">
            <div class="text-lg font-semibold text-purple-600">78%</div>
            <div class="text-xs text-gray-500">Enabled</div>
          </div>
        </div>

        <div class="flex items-center justify-between p-3 bg-yellow-50 rounded">
          <div class="flex items-center">
            <div class="w-3 h-3 bg-yellow-500 rounded mr-3"></div>
            <div>
              <div class="font-medium">Market Intelligence Agent</div>
              <div class="text-sm text-gray-600">Salary insights and market trends</div>
            </div>
          </div>
          <div class="text-right">
            <div class="text-lg font-semibold text-yellow-600">81%</div>
            <div class="text-xs text-gray-500">Enabled</div>
          </div>
        </div>
      </div>

      <div class="mt-4 pt-4 border-t">
        <Button variant="outline" disabled>Export User Data</Button>
        <Button class="ml-2" disabled>Generate Insights Report</Button>
      </div>
    </CardContent>
  </Card>
</AdminLayout>

<script>
  console.log('User profiles and onboarding dashboard loaded');
  // In production, this would load real user data and onboarding analytics
</script>